<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Value Basket</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light d-flex justify-content-center align-items-center vh-100">

  <div class="card shadow-lg p-4" style="max-width: 400px; width: 100%;">
    <h1 class="h4 text-center mb-4">Value Basket</h1>

    <!-- Grocery Input -->
    <label class="form-label">Add Grocery Items</label>
    <div class="input-group mb-3">
      <input id="itemInput" type="text" class="form-control" placeholder="e.g. Milk">
      <button class="btn btn-primary" onclick="addItem()">Add</button>
    </div>
    <ul id="itemList" class="list-group mb-3"></ul>

    <!-- Radius -->
    <label class="form-label">Search Radius (miles)</label>
    <input id="radiusInput" type="number" min="1" value="5" class="form-control mb-3">

    <!-- Location -->
    <label class="form-label">Location</label>
    <div class="input-group mb-3">
      <input id="locationInput" type="text" class="form-control" placeholder="Enter city or zip">
      <button class="btn btn-outline-secondary" onclick="getLocation()">Use GPS</button>
    </div>

    <!-- Submit -->
    <button class="btn btn-success w-100" onclick="handleSubmit()">Submit</button>
  </div>

  <script>
    const items = [];

    function addItem() {
      const input = document.getElementById("itemInput");
      const list = document.getElementById("itemList");
      if (input.value.trim()) {
        const item = input.value.trim();
        items.push(item);

        const li = document.createElement("li");
        li.className = "list-group-item d-flex justify-content-between align-items-center";
        li.textContent = item;

        const removeBtn = document.createElement("button");
        removeBtn.textContent = "❌";
        removeBtn.className = "btn btn-sm btn-danger";
        removeBtn.onclick = () => removeItem(item, li);

        li.appendChild(removeBtn);
        list.appendChild(li);
        input.value = "";
      }
    }

    function removeItem(item, liElement) {
      const index = items.indexOf(item);
      if (index > -1) {
        items.splice(index, 1);
      }
      liElement.remove();
    }

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition((pos) => {
          const locationInput = document.getElementById("locationInput");
          locationInput.value = `${pos.coords.latitude}, ${pos.coords.longitude}`;
        });
      } else {
        alert("Geolocation is not supported in this browser.");
      }
    }

    function handleSubmit() {
      const radius = document.getElementById("radiusInput").value;
      const location = document.getElementById("locationInput").value;

      alert(
        "Groceries: " + (items.length ? items.join(", ") : "None") +
        "\nRadius: " + radius +
        "\nLocation: " + location
      );
    }
  </script>

  <!-- Bootstrap JS (optional, for components like modals if needed) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
